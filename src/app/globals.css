/* =========================
   Global styles (Tailwind)
   ========================= */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Base + tokens
   ========================= */
@layer base {
  :root {
    /* HSL tokens so shadcn semantic classes work */
    --background: 42 21% 96%;          /* #F7F7F6 */
    --foreground: 210 5% 8%;           /* #131415 */
    --card: 0 0% 100%;
    --card-foreground: 210 5% 8%;
    --popover: 0 0% 100%;
    --popover-foreground: 210 5% 8%;
    --primary: 41 52% 58%;             /* #C89B3C */
    --primary-foreground: 210 5% 8%;
    --secondary: 42 21% 94%;           /* light pebble */
    --secondary-foreground: 210 5% 8%;
    --muted: 42 25% 93%;               /* #EFEEE9 */
    --muted-foreground: 210 6% 51%;    /* #7B828A */
    --accent: 42 25% 93%;
    --accent-foreground: 210 5% 8%;
    --destructive: 2 40% 38%;
    --destructive-foreground: 0 0% 100%;
    --border: 45 20% 85%;              /* #E6E3DA */
    --input: 45 20% 85%;
    --ring: 45 20% 85%;
    --radius: 10px;
  }

  html { scroll-behavior: smooth; }

  /* Site background (warm gradient + subtle glow + ultra-light noise) */
  .site-bg {
    background:
      radial-gradient(80vw 40vw at 8% -10%, rgba(200,155,60,0.08), transparent 55%),
      linear-gradient(180deg, #F7F7F6 0%, #F3F2EE 100%);
    color: hsl(var(--foreground));
  }
  .site-bg::before{
    /* noise */
    content:"";
    position: fixed; inset: 0; z-index: -1; pointer-events: none;
    background-image: url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'>\
        <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/></filter>\
        <rect width='100%' height='100%' filter='url(%23n)' opacity='0.025'/>\
      </svg>");
    mix-blend-mode: multiply;
  }

  body {
    background-color: hsl(var(--background));
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue",
      Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    line-height: 1.6;
    font-size: 16px;
  }

  /* Make shadcn tokens actually drive Tailwindâ€™s semantic classes */
  .bg-background { background-color: hsl(var(--background)); }
  .text-foreground { color: hsl(var(--foreground)); }
  .border-border { border-color: hsl(var(--border)); }

  * { border-color: hsl(var(--border)); }

  /* Headings & copy */
  h1, h2, h3, h4, h5, h6 {
    color: hsl(var(--foreground));
    font-weight: 800;
    line-height: 1.12;
    letter-spacing: -0.025em;
    text-wrap: balance;
  }
  p { color: hsl(var(--foreground)); line-height: 1.65; }

  /* Accessible focus */
  :focus-visible {
    outline: 2px solid #C89B3C;
    outline-offset: 2px;
    border-radius: 6px;
  }
  button:focus-visible, a:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible {
    outline: 2px solid #C89B3C;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(200,155,60,0.18);
  }

  /* Skip link */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #C89B3C;
    color: #131415;
    padding: 8px 16px;
    border-radius: 8px;
    z-index: 1000;
    font-weight: 700;
  }
  .skip-link:focus { top: 6px; }
}

/* =========================
   Components & utilities
   ========================= */
@layer components {
  /* Fallback container (your Container component still used) */
  .container { margin-inline: auto; max-width: 72rem; padding-inline: 1rem; }
  @media (min-width:640px){ .container{ padding-inline:1.5rem } }
  @media (min-width:1024px){ .container{ padding-inline:2rem } }

  .prose-custom { max-width: 75ch; line-height: 1.7; }
  .prose-custom h1, .prose-custom h2, .prose-custom h3 {
    color: hsl(var(--foreground));
    font-weight: 700;
    line-height: 1.25;
    margin: 2rem 0 1rem;
  }
  .prose-custom p { margin-bottom: 1.1rem; }
  .prose-custom a { color: #C89B3C; font-weight: 600; }
  .prose-custom a:hover { text-decoration: underline; }

  /* Soft card surface */
  .surface {
    background-color: #FFFFFF;
    border: 1px solid hsl(var(--border));
    box-shadow: 0 12px 38px -22px rgba(0,0,0,0.25);
  }

  /* Tiny hover lift utility */
  .lift { transition: transform .2s ease, box-shadow .2s ease; }
  .lift:hover { transform: translateY(-2px); box-shadow: 0 16px 40px -24px rgba(0,0,0,0.28); }
}

/* =========================
   Motion preferences
   ========================= */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
