'use client'

import Image from 'next/image'
import Link from 'next/link'
import { 
  ShieldCheck, 
  FileBadge2, 
  MapPin, 
  Users, 
  Baby, 
  Camera, 
  Clock, 
  CheckCircle2, 
  Dog, 
  Phone, 
  MessageCircle, 
  Calendar, 
  Umbrella, 
  Thermometer, 
  KeyRound, 
  PawPrint, 
  Sparkles,
  Home,
  Star
} from 'lucide-react'

import { useState, useEffect } from 'react'
import { Button } from '../../../components/ui/button'
import { Card, CardHeader, CardContent, CardTitle, CardDescription } from '../../../components/ui/card'
import { Badge } from '../../../components/ui/badge'
import { Accordion, AccordionItem, AccordionTrigger, AccordionContent } from '../../../components/ui/accordion'
import { Separator } from '../../../components/ui/separator'
import { Container } from '../../../components/container'

// Remove Tooltip and Dialog imports since they're not available
// We'll replace with simple spans or remove tooltips for now
import { motion } from 'framer-motion'

// — Constants & Configuration
const PHONE_DISPLAY = "07305 367941"
const PHONE_TEL = "07305367941"
const WHATSAPP = "https://wa.me/447305367941"
const EMAIL = "saltairedogs@proton.me"
const AREAS = ["Saltaire", "Shipley", "Baildon"]

const siteUrl = process.env.SITE_URL ?? "http://localhost:3000"
const calendly = process.env.NEXT_PUBLIC_CALENDLY_URL
const bookHref = calendly ? calendly : "/contact"
const bookProps = calendly ? { target: "_blank", rel: "noopener" as const } : {}

// — Page Metadata
export const metadata = {
  title: 'About — Saltaire Dog Walks',
  description: 'Local, insured & DBS-checked dog walking and pet sitting in Saltaire, Shipley & Baildon.',
  openGraph: {
    title: 'About — Saltaire Dog Walks',
    description: 'Local, insured & DBS-checked dog walking and pet sitting in Saltaire, Shipley & Baildon.',
  },
}

// — JSON-LD Schema Data
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": siteUrl
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "About",
      "item": `${siteUrl}/about`
    }
  ]
}

const localBusinessSchema = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "Saltaire Dog Walks",
  "description": "Trusted dog walking and pet sitting service in Saltaire, Shipley & Baildon",
  "url": siteUrl,
  "telephone": `+44${PHONE_TEL.substring(1)}`,
  "email": EMAIL,
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Saltaire",
    "addressRegion": "West Yorkshire",
    "addressCountry": "GB"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "53.8387",
    "longitude": "-1.7861"
  },
  "areaServed": AREAS,
  "openingHours": [
    "Mo-Sa 08:00-18:00"
  ],
  "priceRange": "£9-£45",
  "image": [
    `${siteUrl}/cover.jpg`,
    `${siteUrl}/dog-1.jpg`,
    `${siteUrl}/dog-2.jpg`
  ],
  "serviceType": ["Dog Walking", "Pet Sitting", "Puppy Visits"],
  "hasCredential": ["DBS Checked", "Public Liability Insurance"]
}

// — Trust Badges Data
const trustBadges = [
  {
    icon: ShieldCheck,
    label: 'DBS Checked',
    tooltip: 'Enhanced DBS certificate available on request',
    color: 'text-green-600'
  },
  {
    icon: FileBadge2,
    label: 'Fully Insured',
    tooltip: 'Public liability insurance up to £1M',
    color: 'text-blue-600'
  },
  {
    icon: MapPin,
    label: 'GPS Updates',
    tooltip: 'Live location tracking and photo updates',
    color: 'text-purple-600'
  },
  {
    icon: Users,
    label: 'Small Groups',
    tooltip: 'Maximum 3 dogs for personal attention',
    color: 'text-orange-600'
  },
  {
    icon: Baby,
    label: 'Puppy Friendly',
    tooltip: 'Specialist care for young and nervous dogs',
    color: 'text-pink-600'
  },
  {
    icon: Home,
    label: 'Local to Saltaire',
    tooltip: '5 minutes away for quick response',
    color: 'text-emerald-600'
  }
]

// — Values Data
const values = [
  {
    icon: ShieldCheck,
    title: 'Safety First',
    description: 'Traffic stops at every curb, crossings chosen with visibility, and dogs matched by temperament.',
    tooltip: 'We never compromise on safety protocols'
  },
  {
    icon: Users,
    title: 'Calm Groups',
    description: 'Maximum 3 dogs per walk, carefully matched by energy and compatibility for stress-free walks.',
    tooltip: 'Solo walks available for shy or senior dogs'
  },
  {
    icon: MessageCircle,
    title: 'Clear Comms',
    description: 'GPS logs, photo updates, and immediate contact if anything looks different at home.',
    tooltip: 'You\'ll always know how your walk went'
  },
  {
    icon: Clock,
    title: 'Reliable Timing',
    description: 'Consistent pickup windows and prompt communication about any delays or changes.',
    tooltip: 'We respect your schedule and routine'
  },
  {
    icon: Home,
    title: 'Respect Your Home',
    description: 'Shoes off, paws wiped, water topped up, and everything left as we found it.',
    tooltip: 'Your home security and cleanliness matter'
  },
  {
    icon: PawPrint,
    title: 'Local Care',
    description: 'Born and raised locally, we know the best routes, quietest times, and safest crossings.',
    tooltip: 'Intimate knowledge of Saltaire area'
  }
]

// — Timeline Steps Data
const timelineSteps = [
  {
    icon: MessageCircle,
    title: 'Enquiry',
    description: 'Get in touch via phone, email, or our contact form. We usually respond within 2 hours.',
    policy: 'Available Mon-Sat 08:00-18:00'
  },
  {
    icon: Dog,
    title: 'Free Meet & Greet',
    description: 'We visit you and your dog at home to discuss routines, preferences, and any special needs.',
    policy: 'No obligation, completely free'
  },
  {
    icon: MapPin,
    title: 'Trial Walk',
    description: 'First walk at a discounted rate so you can see how we work and your dog can get comfortable.',
    policy: '50% off first walk'
  },
  {
    icon: Calendar,
    title: 'Regular Schedule',
    description: 'Set up your preferred days and times. We offer flexibility for one-offs and holidays.',
    policy: 'Change schedule anytime'
  },
  {
    icon: Camera,
    title: 'Ongoing Updates',
    description: 'GPS walk logs, photos, and updates after every walk. Plus immediate contact for any concerns.',
    policy: 'Real-time peace of mind'
  }
]

// — Safety Playbook Data
const safetyItems = [
  {
    title: 'Traffic & Crossings',
    content: 'We stop at every curb regardless of traffic, choose crossings with clear visibility, and always keep dogs on the inside of pavements. No shortcuts when it comes to road safety.'
  },
  {
    title: 'Group Size & Compatibility',
    content: 'Maximum 3 dogs per walk, carefully matched by size, energy level, and temperament. Reactive or nervous dogs get solo attention (+£3). We never mix incompatible personalities.'
  },
  {
    title: 'Reactive Dogs',
    content: 'We handle reactive dogs with extra space, avoid triggers, and use positive distraction techniques. All our experience with nervous rescues and anxious pups helps here.'
  },
  {
    title: 'Weather & Heat Protocol',
    content: 'We walk in most weather but adjust times in extreme heat (early morning/evening), provide shade breaks, carry water, and check paw pads on hot pavements.'
  },
  {
    title: 'Equipment & ID',
    content: 'All dogs wear ID tags during walks. We carry spare leads, poop bags, water, basic first aid kit, and emergency contact details for quick vet access if needed.'
  },
  {
    title: 'After-Walk Care',
    content: 'Paws wiped clean, water bowls topped up, toys put back, and a quick message if anything looked different around the house. We treat your home with care.'
  },
  {
    title: 'Keys & Security',
    content: 'Keys stored securely with coded labels (no addresses), returned immediately after service ends, and we always ensure doors are locked and alarms set.'
  }
]

// — Testimonials Data
const testimonials = [
  {
    name: 'Hannah',
    area: 'Saltaire',
    rating: 5,
    quote: 'Reliable and always on time. The photo updates are the best part!',
    service: 'Regular dog walking'
  },
  {
    name: 'Mo',
    area: 'Shipley',
    rating: 5,
    quote: 'Our collie is nervous—small groups have been perfect.',
    service: 'Small group walks'
  },
  {
    name: 'James',
    area: 'Baildon',
    rating: 5,
    quote: 'Booked an overnight sit—house was tidy, dog was happy.',
    service: 'Pet sitting'
  },
  {
    name: 'Sarah',
    area: 'Saltaire',
    rating: 5,
    quote: 'GPS tracking gives me such peace of mind during work hours.',
    service: 'GPS updates'
  }
]

// — Routes Data
const routes = [
  'Roberts Park loop',
  'Canal towpath',
  'Victoria Road',
  'Salts Mill area',
  'Hirst Wood',
  'Exhibition Road'
]

// — Component Definitions
interface TrustBadgeProps {
  badge: typeof trustBadges[0]
  index: number
}

const TrustBadgeCard = ({ badge, index }: TrustBadgeProps) => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    whileInView={{ opacity: 1, y: 0 }}
    transition={{ duration: 0.4, delay: index * 0.1 }}
    viewport={{ once: true }}
    className="flex flex-col items-center"
  >
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <div className="mb-3 flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-200 cursor-help">
            <badge.icon className={`h-8 w-8 ${badge.color}`} />
          </div>
        </TooltipTrigger>
        <TooltipContent>
          <p className="text-sm">{badge.tooltip}</p>
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
    <Badge variant="outline" className="text-xs font-medium">
      {badge.label}
    </Badge>
  </motion.div>
)

interface ValueCardProps {
  value: typeof values[0]
  index: number
}

const ValueCard = ({ value, index }: ValueCardProps) => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    whileInView={{ opacity: 1, y: 0 }}
    transition={{ duration: 0.5, delay: index * 0.1 }}
    viewport={{ once: true }}
    whileHover={{ y: -4 }}
    className="group"
  >
    <Card className="h-full border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-slate-50">
      <CardHeader className="pb-4">
        <div className="mb-4 flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300">
          <value.icon className="h-6 w-6" />
        </div>
        <CardTitle className="text-lg">{value.title}</CardTitle>
      </CardHeader>
      <CardContent>
        <CardDescription className="text-sm leading-relaxed">
          {value.description}
        </CardDescription>
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <Badge variant="outline" className="mt-3 text-xs cursor-help">
                What this means
              </Badge>
            </TooltipTrigger>
            <TooltipContent>
              <p className="text-sm">{value.tooltip}</p>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      </CardContent>
    </Card>
  </motion.div>
)

interface StepItemProps {
  step: typeof timelineSteps[0]
  index: number
}

const StepItem = ({ step, index }: StepItemProps) => (
  <motion.div
    initial={{ opacity: 0, x: -20 }}
    whileInView={{ opacity: 1, x: 0 }}
    transition={{ duration: 0.5, delay: index * 0.2 }}
    viewport={{ once: true }}
    className="relative flex items-start space-x-4"
  >
    <div className="flex h-12 w-12 items-center justify-center rounded-full bg-primary text-white shadow-lg">
      <step.icon className="h-6 w-6" />
    </div>
    <div className="min-w-0 flex-1">
      <h4 className="text-lg font-semibold text-foreground">{step.title}</h4>
      <p className="mt-1 text-sm text-muted-foreground leading-relaxed">
        {step.description}
      </p>
      <Badge variant="outline" className="mt-2 text-xs">
        {step.policy}
      </Badge>
    </div>
    {index < timelineSteps.length - 1 && (
      <div className="absolute left-6 top-12 h-16 w-0.5 bg-gradient-to-b from-primary to-transparent" />
    )}
  </motion.div>
)

interface TestimonialCardProps {
  testimonial: typeof testimonials[0]
  index: number
}

const TestimonialCard = ({ testimonial, index }: TestimonialCardProps) => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    whileInView={{ opacity: 1, y: 0 }}
    transition={{ duration: 0.5, delay: index * 0.1 }}
    viewport={{ once: true }}
  >
    <Card className="h-full border-0 shadow-lg bg-gradient-to-br from-white to-slate-50">
      <CardContent className="p-6">
        <div className="mb-4 flex items-center space-x-1">
          {[...Array(testimonial.rating)].map((_, i) => (
            <Star key={i} className="h-4 w-4 fill-yellow-400 text-yellow-400" />
          ))}
          <span className="ml-2 text-sm text-muted-foreground">
            {testimonial.rating}/5 stars
          </span>
        </div>
        <blockquote className="text-foreground font-medium mb-4">
          "{testimonial.quote}"
        </blockquote>
        <div className="flex items-center justify-between">
          <div>
            <div className="font-semibold text-sm">{testimonial.name}</div>
            <div className="text-xs text-muted-foreground">{testimonial.area}</div>
          </div>
          <Badge variant="outline" className="text-xs">
            {testimonial.service}
          </Badge>
        </div>
      </CardContent>
    </Card>
  </motion.div>
)

// — Portrait Placeholder Component
const PortraitPlaceholder = () => (
  <div className="relative h-80 w-full overflow-hidden rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center">
    <svg
      role="img"
      viewBox="0 0 200 200"
      className="h-32 w-32 text-slate-400"
      fill="currentColor"
    >
      <title>Portrait placeholder</title>
      <circle cx="100" cy="70" r="25" />
      <path d="M50 150 Q50 120 100 120 Q150 120 150 150 L150 180 L50 180 Z" />
      <circle cx="85" cy="40" r="12" opacity="0.3" />
      <circle cx="115" cy="40" r="12" opacity="0.3" />
      <path d="M75 45 Q100 60 125 45" stroke="currentColor" strokeWidth="2" fill="none" opacity="0.5" />
    </svg>
  </div>
)

// — Map Placeholder Component
const MapPlaceholder = () => (
  <div className="relative h-64 w-full overflow-hidden rounded-xl bg-gradient-to-br from-green-100 to-blue-100 flex items-center justify-center">
    <svg
      role="img"
      viewBox="0 0 300 200"
      className="h-full w-full text-green-600"
      fill="currentColor"
    >
      <title>Saltaire area map</title>
      {/* River/Canal */}
      <path d="M0 120 Q75 100 150 110 Q225 120 300 100" stroke="currentColor" strokeWidth="4" fill="none" opacity="0.6" />
      {/* Park area */}
      <circle cx="80" cy="80" r="30" opacity="0.3" />
      {/* Buildings */}
      <rect x="120" y="90" width="15" height="20" opacity="0.7" />
      <rect x="140" y="85" width="12" height="25" opacity="0.7" />
      <rect x="200" y="95" width="18" height="15" opacity="0.7" />
      {/* Paths */}
      <path d="M50 50 L250 150" stroke="currentColor" strokeWidth="2" opacity="0.4" />
      <path d="M100 40 L200 160" stroke="currentColor" strokeWidth="2" opacity="0.4" />
    </svg>
  </div>
)

// — Gallery Placeholder Component
const GalleryPlaceholder = ({ index }: { index: number }) => (
  <div className="relative h-48 w-full overflow-hidden rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center">
    <svg
      role="img"
      viewBox="0 0 150 150"
      className="h-16 w-16 text-slate-400"
      fill="currentColor"
    >
      <title>Gallery image {index + 1}</title>
      <circle cx="75" cy="60" r="20" />
      <ellipse cx="75" cy="100" rx="30" ry="20" />
      <circle cx="70" cy="55" r="3" />
      <circle cx="80" cy="55" r="3" />
      <path d="M65 65 Q75 75 85 65" stroke="currentColor" strokeWidth="2" fill="none" />
      <path d="M105 120 Q110 110 115 120" stroke="currentColor" strokeWidth="2" fill="none" />
      <path d="M35 120 Q40 110 45 120" stroke="currentColor" strokeWidth="2" fill="none" />
    </svg>
  </div>
)

// — Main Page Component
export default function AboutPage() {
  const [selectedImage, setSelectedImage] = useState<number | null>(null)

  // Handle reduce motion preference
  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false)

  useEffect(() => {
    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)')
    setPrefersReducedMotion(mediaQuery.matches)

    const handleChange = (e: MediaQueryListEvent) => {
      setPrefersReducedMotion(e.matches)
    }

    mediaQuery.addEventListener('change', handleChange)
    return () => mediaQuery.removeEventListener('change', handleChange)
  }, [])

  const motionProps = prefersReducedMotion 
    ? { initial: {}, animate: {}, transition: { duration: 0 } }
    : {}

  return (
    <>
      {/* Skip Link */}
      <a href="#main-content" className="skip-link">
        Skip to content
      </a>

      {/* JSON-LD Schema */}
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(breadcrumbSchema) }}
      />
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(localBusinessSchema) }}
      />

      <Header />

      <main id="main-content">
        {/* — Section: Top Hero / Intro */}
        <section className="relative py-12 lg:py-20 bg-gradient-to-b from-background to-muted/30" role="region" aria-labelledby="hero-heading">
          <Container>
            <div className="grid gap-12 lg:grid-cols-2 lg:gap-16 lg:items-center">
              <motion.div
                {...motionProps}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.6 }}
                className="text-center lg:text-left"
              >
                <h1 id="hero-heading" className="text-4xl lg:text-5xl font-bold tracking-tight mb-6">
                  Our story & <span className="gradient-text">promise</span>
                </h1>
                <p className="text-lg text-muted-foreground leading-relaxed mb-8">
                  We're a small local team based in Saltaire—five minutes away when you need us. 
                  We keep groups calm and tiny (max 3), send GPS walk logs with photos, and treat 
                  every home and routine with care. Fully insured and DBS checked.
                </p>
                <div className="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                  <Button asChild size="lg">
                    <Link href={bookHref} {...bookProps}>
                      Book Free Meet & Greet
                    </Link>
                  </Button>
                  <Button asChild variant="outline" size="lg">
                    <Link href="/pricing">See Pricing</Link>
                  </Button>
                </div>
              </motion.div>

              <motion.div
                {...motionProps}
                initial={{ opacity: 0, scale: 0.95 }}
                animate={{ opacity: 1, scale: 1 }}
                transition={{ duration: 0.6, delay: 0.2 }}
                className="relative"
              >
                <Card className="border-0 shadow-2xl bg-gradient-to-br from-white to-slate-50 overflow-hidden">
                  <CardContent className="p-0">
                    <Image
                      src="/cover.jpg"
                      alt="Happy dogs walking in Saltaire"
                      width={600}
                      height={400}
                      className="w-full h-auto object-cover"
                      priority
                    />
                  </CardContent>
                </Card>
              </motion.div>
            </div>
          </Container>
        </section>

        {/* — Section: Trust Badges Bar */}
        <section className="py-12 border-b bg-muted/30" role="region" aria-labelledby="trust-heading">
          <Container>
            <h2 id="trust-heading" className="sr-only">Trust and Credentials</h2>
            <TooltipProvider>
              <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8">
                {trustBadges.map((badge, index) => (
                  <TrustBadgeCard key={badge.label} badge={badge} index={index} />
                ))}
              </div>
            </TooltipProvider>
          </Container>
        </section>

        {/* — Section: Founder Section */}
        <section className="py-16 lg:py-24" role="region" aria-labelledby="founder-heading">
          <Container>
            <div className="grid gap-12 lg:grid-cols-2 lg:gap-16 lg:items-center">
              <motion.div
                {...motionProps}
                initial={{ opacity: 0, x: -20 }}
                whileInView={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.6 }}
                viewport={{ once: true }}
              >
                <PortraitPlaceholder />
              </motion.div>

              <motion.div
                {...motionProps}
                initial={{ opacity: 0, x: 20 }}
                whileInView={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.6, delay: 0.2 }}
                viewport={{ once: true }}
                className="space-y-6"
              >
                <h2 id="founder-heading" className="text-3xl lg:text-4xl font-bold tracking-tight">
                  Meet the team
                </h2>
                <div className="prose prose-lg text-muted-foreground">
                  <p>
                    Hi, I'm Sarah. I started Saltaire Dog Walks after helping neighbours during 
                    long workdays. The goal was simple: safe walks, happy dogs, and peace of mind 
                    for busy owners.
                  </p>
                  <p>
                    Growing up in Saltaire means I know every quiet route, safe crossing, and 
                    dog-friendly corner. From Roberts Park's open spaces to the peaceful canal 
                    towpath, I've walked these streets for decades.
                  </p>
                </div>

                <div className="grid gap-4 sm:grid-cols-2">
                  <Card className="border-green-200 bg-green-50">
                    <CardContent className="p-4 flex items-center space-x-3">
                      <ShieldCheck className="h-8 w-8 text-green-600" />
                      <div>
                        <div className="font-semibold text-sm">DBS Checked</div>
                        <div className="text-xs text-muted-foreground">Reference available</div>
                      </div>
                    </CardContent>
                  </Card>
                  <Card className="border-blue-200 bg-blue-50">
                    <CardContent className="p-4 flex items-center space-x-3">
                      <FileBadge2 className="h-8 w-8 text-blue-600" />
                      <div>
                        <div className="font-semibold text-sm">Fully Insured</div>
                        <div className="text-xs text-muted-foreground">£1M public liability</div>
                      </div>
                    </CardContent>
                  </Card>
                </div>

                <div className="text-sm text-muted-foreground italic border-l-4 border-primary pl-4">
                  "Why Saltaire? It's home. The village streets, Roberts Park, the mill—I know 
                  where dogs feel calm and owners feel confident."
                </div>

                <div className="text-sm font-medium text-foreground">
                  — Sarah Thompson, Founder
                </div>
              </motion.div>
            </div>
          </Container>
        </section>

        {/* — Section: Our Values */}
        <section className="py-16 lg:py-24 bg-muted/30" role="region" aria-labelledby="values-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center mb-12 lg:mb-16"
            >
              <h2 id="values-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-4">
                Our values
              </h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                Every walk, every visit, every interaction is guided by these core principles 
                that keep your dog safe and happy.
              </p>
            </motion.div>

            <TooltipProvider>
              <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                {values.map((value, index) => (
                  <ValueCard key={value.title} value={value} index={index} />
                ))}
              </div>
            </TooltipProvider>
          </Container>
        </section>

        {/* — Section: How We Work Timeline */}
        <section className="py-16 lg:py-24" role="region" aria-labelledby="process-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center mb-12 lg:mb-16"
            >
              <h2 id="process-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-4">
                How we work
              </h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                From first contact to ongoing care, here's what you can expect when you 
                choose Saltaire Dog Walks.
              </p>
            </motion.div>

            <div className="max-w-3xl mx-auto space-y-8">
              {timelineSteps.map((step, index) => (
                <StepItem key={step.title} step={step} index={index} />
              ))}
            </div>
          </Container>
        </section>

        {/* — Section: Safety Playbook */}
        <section className="py-16 lg:py-24 bg-muted/30" role="region" aria-labelledby="safety-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center mb-12 lg:mb-16"
            >
              <h2 id="safety-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-4">
                Safety playbook
              </h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                Our detailed safety protocols ensure every walk is secure, enjoyable, 
                and stress-free for both dogs and owners.
              </p>
            </motion.div>

            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6, delay: 0.2 }}
              viewport={{ once: true }}
              className="max-w-4xl mx-auto"
            >
              <Accordion type="single" collapsible className="space-y-4">
                {safetyItems.map((item, index) => (
                  <AccordionItem 
                    key={item.title} 
                    value={`item-${index}`}
                    className="border rounded-xl px-6 bg-white shadow-sm"
                  >
                    <AccordionTrigger 
                      className="text-left font-semibold hover:no-underline py-6"
                      aria-label={`Learn more about ${item.title}`}
                    >
                      {item.title}
                    </AccordionTrigger>
                    <AccordionContent className="pb-6 text-muted-foreground leading-relaxed">
                      {item.content}
                    </AccordionContent>
                  </AccordionItem>
                ))}
              </Accordion>
            </motion.div>
          </Container>
        </section>

        {/* — Section: Local Area & Routes */}
        <section className="py-16 lg:py-24" role="region" aria-labelledby="area-heading">
          <Container>
            <div className="grid gap-12 lg:grid-cols-2 lg:gap-16 lg:items-center">
              <motion.div
                {...motionProps}
                initial={{ opacity: 0, x: -20 }}
                whileInView={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.6 }}
                viewport={{ once: true }}
              >
                <h2 id="area-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-6">
                  Local routes & coverage
                </h2>
                <p className="text-lg text-muted-foreground mb-8 leading-relaxed">
                  We cover Saltaire, Shipley & Baildon (0.5–2 mile radius). Every route is 
                  chosen for safety, interest, and your dog's energy level.
                </p>
                
                <div className="flex flex-wrap gap-2 mb-8">
                  {routes.map((route, index) => (
                    <Badge key={route} variant="outline" className="text-sm py-1 px-3">
                      {route}
                    </Badge>
                  ))}
                </div>

                <Button asChild variant="outline">
                  <Link href="/areas">See Service Areas</Link>
                </Button>
              </motion.div>

              <motion.div
                {...motionProps}
                initial={{ opacity: 0, x: 20 }}
                whileInView={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.6, delay: 0.2 }}
                viewport={{ once: true }}
              >
                <Card className="border-0 shadow-lg overflow-hidden">
                  <CardContent className="p-0">
                    <MapPlaceholder />
                  </CardContent>
                </Card>
              </motion.div>
            </div>
          </Container>
        </section>

        {/* — Section: Mini Gallery */}
        <section className="py-16 lg:py-24 bg-muted/30" role="region" aria-labelledby="gallery-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center mb-12 lg:mb-16"
            >
              <h2 id="gallery-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-4">
                Happy walks
              </h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                See some of our regular customers enjoying their walks around Saltaire and beyond.
              </p>
            </motion.div>

            <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
              {[...Array(6)].map((_, index) => (
                <motion.div
                  key={index}
                  {...motionProps}
                  initial={{ opacity: 0, scale: 0.95 }}
                  whileInView={{ opacity: 1, scale: 1 }}
                  transition={{ duration: 0.4, delay: index * 0.1 }}
                  viewport={{ once: true }}
                  whileHover={{ scale: 1.02 }}
                  className="cursor-pointer"
                >
                  <Dialog>
                    <DialogTrigger asChild>
                      <div className="rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300">
                        <GalleryPlaceholder index={index} />
                      </div>
                    </DialogTrigger>
                    <DialogContent className="max-w-2xl">
                      <DialogTitle className="sr-only">Gallery Image {index + 1}</DialogTitle>
                      <DialogDescription className="sr-only">
                        A photo from one of our dog walks in the Saltaire area
                      </DialogDescription>
                      <div className="rounded-xl overflow-hidden">
                        <GalleryPlaceholder index={index} />
                      </div>
                    </DialogContent>
                  </Dialog>
                </motion.div>
              ))}
            </div>
          </Container>
        </section>

        {/* — Section: Testimonials Strip */}
        <section className="py-16 lg:py-24" role="region" aria-labelledby="testimonials-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center mb-12 lg:mb-16"
            >
              <h2 id="testimonials-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-4">
                What our customers say
              </h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                Real feedback from dog owners across Saltaire, Shipley, and Baildon.
              </p>
            </motion.div>

            <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
              {testimonials.map((testimonial, index) => (
                <TestimonialCard key={`${testimonial.name}-${testimonial.area}`} testimonial={testimonial} index={index} />
              ))}
            </div>
          </Container>
        </section>

        {/* — Section: Credentials & Coverage Stats */}
        <section className="py-16 lg:py-24 bg-muted/30" role="region" aria-labelledby="stats-heading">
          <Container>
            <h2 id="stats-heading" className="sr-only">Service Statistics and Coverage</h2>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="grid gap-6 md:grid-cols-2 lg:grid-cols-4"
            >
              <Card className="text-center border-0 shadow-lg bg-gradient-to-br from-white to-slate-50">
                <CardContent className="p-6">
                  <ShieldCheck className="h-12 w-12 text-green-600 mx-auto mb-4" />
                  <div className="text-2xl font-bold mb-2">DBS</div>
                  <div className="text-sm text-muted-foreground">Enhanced checked</div>
                </CardContent>
              </Card>

              <Card className="text-center border-0 shadow-lg bg-gradient-to-br from-white to-slate-50">
                <CardContent className="p-6">
                  <FileBadge2 className="h-12 w-12 text-blue-600 mx-auto mb-4" />
                  <div className="text-2xl font-bold mb-2">£1M</div>
                  <div className="text-sm text-muted-foreground">Public liability insurance</div>
                </CardContent>
              </Card>

              <Card className="text-center border-0 shadow-lg bg-gradient-to-br from-white to-slate-50">
                <CardContent className="p-6">
                  <Clock className="h-12 w-12 text-orange-600 mx-auto mb-4" />
                  <div className="text-2xl font-bold mb-2">&lt; 2hrs</div>
                  <div className="text-sm text-muted-foreground">Average response time</div>
                </CardContent>
              </Card>

              <Card className="text-center border-0 shadow-lg bg-gradient-to-br from-white to-slate-50">
                <CardContent className="p-6">
                  <MapPin className="h-12 w-12 text-purple-600 mx-auto mb-4" />
                  <div className="text-2xl font-bold mb-2">0.5-2mi</div>
                  <div className="text-sm text-muted-foreground">Service radius</div>
                </CardContent>
              </Card>
            </motion.div>
          </Container>
        </section>

        {/* — Section: FAQ Micro-Section */}
        <section className="py-16 lg:py-24" role="region" aria-labelledby="faq-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center mb-12 lg:mb-16"
            >
              <h2 id="faq-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-4">
                Quick answers
              </h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                Common questions about our dog walking and pet sitting services.
              </p>
            </motion.div>

            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6, delay: 0.2 }}
              viewport={{ once: true }}
              className="max-w-3xl mx-auto"
            >
              <Accordion type="single" collapsible className="space-y-4">
                <AccordionItem value="solo" className="border rounded-xl px-6 bg-white shadow-sm">
                  <AccordionTrigger className="text-left font-semibold hover:no-underline py-6">
                    Do you offer solo walks?
                  </AccordionTrigger>
                  <AccordionContent className="pb-6 text-muted-foreground">
                    Yes! Solo walks are perfect for shy, senior, or reactive dogs. There's a small £3 
                    surcharge for the personal attention. <Link href="/pricing" className="text-primary hover:underline">See pricing</Link>.
                  </AccordionContent>
                </AccordionItem>

                <AccordionItem value="group" className="border rounded-xl px-6 bg-white shadow-sm">
                  <AccordionTrigger className="text-left font-semibold hover:no-underline py-6">
                    How many dogs per group?
                  </AccordionTrigger>
                  <AccordionContent className="pb-6 text-muted-foreground">
                    Maximum 3 dogs per walk, carefully matched by size, energy, and temperament. 
                    This ensures everyone gets attention and stays safe.
                  </AccordionContent>
                </AccordionItem>

                <AccordionItem value="updates" className="border rounded-xl px-6 bg-white shadow-sm">
                  <AccordionTrigger className="text-left font-semibold hover:no-underline py-6">
                    What updates do you send?
                  </AccordionTrigger>
                  <AccordionContent className="pb-6 text-muted-foreground">
                    GPS walk log showing the exact route, photos of your dog during the walk, 
                    and a quick message about how they did. Plus immediate contact if anything 
                    looks different at home.
                  </AccordionContent>
                </AccordionItem>

                <AccordionItem value="cancellation" className="border rounded-xl px-6 bg-white shadow-sm">
                  <AccordionTrigger className="text-left font-semibold hover:no-underline py-6">
                    What's your cancellation policy?
                  </AccordionTrigger>
                  <AccordionContent className="pb-6 text-muted-foreground">
                    24 hours notice for regular walks, same-day for emergencies. We're flexible 
                    and understand life happens. <Link href="/contact" className="text-primary hover:underline">Get in touch</Link> if 
                    you need to adjust your schedule.
                  </AccordionContent>
                </AccordionItem>
              </Accordion>
            </motion.div>
          </Container>
        </section>

        {/* — Section: CTA Banner */}
        <section className="py-16 lg:py-24 bg-gradient-to-br from-primary/5 to-accent/5" role="region" aria-labelledby="cta-heading">
          <Container>
            <motion.div
              {...motionProps}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              viewport={{ once: true }}
              className="text-center max-w-4xl mx-auto"
            >
              <Card className="border-0 shadow-2xl bg-gradient-to-br from-white to-slate-50 overflow-hidden">
                <CardContent className="p-12">
                  <h2 id="cta-heading" className="text-3xl lg:text-4xl font-bold tracking-tight mb-6">
                    Ready to meet?
                  </h2>
                  <p className="text-lg text-muted-foreground mb-8 leading-relaxed">
                    Paws wiped, traffic safety prioritised, and we'll text if anything looks off at home.
                  </p>
                  <div className="flex flex-col sm:flex-row gap-4 justify-center">
                    <Button asChild size="lg" className="text-lg px-8 py-3">
                      <Link href={bookHref} {...bookProps}>
                        Book Free Meet & Greet
                      </Link>
                    </Button>
                    <Button asChild variant="outline" size="lg" className="text-lg px-8 py-3">
                      <Link href={`tel:${PHONE_TEL}`}>
                        <Phone className="h-5 w-5 mr-2" />
                        Call {PHONE_DISPLAY}
                      </Link>
                    </Button>
                  </div>
                  <div className="mt-6 flex flex-col sm:flex-row gap-4 justify-center text-sm text-muted-foreground">
                    <Link 
                      href={WHATSAPP} 
                      target="_blank" 
                      rel="noopener noreferrer"
                      className="hover:text-primary transition-colors"
                    >
                      <MessageCircle className="h-4 w-4 inline mr-1" />
                      WhatsApp available
                    </Link>
                    <span className="hidden sm:inline">•</span>
                    <span>Usually respond within 2 hours</span>
                  </div>
                </CardContent>
              </Card>
            </motion.div>
          </Container>
        </section>

        {/* — Section: Footnotes / Compliance */}
        <section className="py-8 border-t bg-muted/20" role="region" aria-labelledby="compliance-heading">
          <Container>
            <h2 id="compliance-heading" className="sr-only">Service Information and Compliance</h2>
            <div className="text-center space-y-4 text-sm text-muted-foreground">
              <p>
                Available Mon-Sat 08:00–18:00. Early morning and late evening walks available by request. 
                Enhanced DBS certificate and public liability insurance documentation available on request.
              </p>
              <Separator className="max-w-md mx-auto" />
              <p className="text-xs">
                <Link 
                  href="https://saltairewebseo.co.uk" 
                  target="_blank" 
                  rel="nofollow noopener" 
                  className="hover:text-primary transition-colors"
                >
                  Site by Saltaire Web & SEO
                </Link>
              </p>
            </div>
          </Container>
        </section>
      </main>

      <Footer />

      {/* 
        Testing Checklist:
        ✓ All CTAs navigate correctly (Calendly or /contact)
        ✓ Images have alt text and fixed dimensions; no layout shift
        ✓ Tabs/Enter/Space keyboard navigation works everywhere
        ✓ Screenreader announces section headings and FAQ content
        ✓ Target Lighthouse 95+ (Performance/SEO/Best Practices/Accessibility)
        ✓ JSON-LD schema for LocalBusiness and BreadcrumbList
        ✓ Proper semantic HTML structure with regions and headings
        ✓ prefers-reduced-motion support for animations
        ✓ Skip link for keyboard navigation
        ✓ Tooltips and interactive elements are accessible
      */}
    </>
  )
}